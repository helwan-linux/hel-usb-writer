translations = {
    "en": {
        "app_title_usb": "Helwan USB Writer",
        "selected_iso_file": "Selected ISO File:",
        "browse": "Browse...",
        "calculate_sha256": "Calculate SHA256",
        "expected_sha256_label": "Expected SHA256:",
        "expected_sha256_placeholder": "Enter expected SHA256 checksum (optional)",
        "calculated_sha256_label": "Calculated SHA256:",
        "calculated_sha256_placeholder": "Calculated SHA256 will appear here",
        "select_usb_device": "Select USB Device:",
        "refresh": "Refresh",
        "write_to_usb": "Write to USB",
        "ready_to_start": "Ready to start.",
        "warning": "Warning",
        "error": "Error",
        "success": "Success",
        "failed": "Failed",
        "no_iso_selected": "Please select an ISO file.",
        "no_usb_device_selected": "Please select a USB device.",
        "confirm_write_prompt": "Are you sure you want to write '{}' ({}) to '{}' ({})?\n\n"
                                "ALL DATA ON THE USB DEVICE WILL BE PERMANENTLY ERASED!",
        "confirm_format_warning": "Warning: Full USB formatting selected! This will erase all partitions and data.",
        "confirm_write": "Confirm Write",
        "preparing_to_write": "Preparing to write to {}...",
        "write_successful": "ISO written successfully!",
        "write_failed": "Failed to write ISO: {}",
        "dd_not_found": "'dd' command not found. Please ensure it's installed and in your PATH.",
        "lsblk_not_found": "'lsblk' command not found. Please ensure it's installed and in your PATH.",
        "lsblk_parse_error": "Failed to parse lsblk output. Please check your system configuration.",
        "unknown_error": "An unknown error occurred during writing.",
        "unexpected_error": "An unexpected error occurred: {}",
        "subprocess_error": "Subprocess command failed: '{}' with exit code {} and error: {}",
        "starting_write": "Starting write process...",
        "no_usb_found": "No USB devices found.",
        "select_usb_device_option": "--- Select a USB device ---",
        "no_usb_selected_option": "--- No USB selected ---",
        "cancel_running_operation": "A write operation is in progress. Do you want to cancel it and exit?",
        "calculating_sha256_short": "Calculating SHA256...",
        "calculating_progress": "Calculating SHA256: {}%",
        "sha256_calculated_success": "SHA256 calculated successfully.",
        "sha256_calculation_failed": "SHA256 calculation failed.",
        "sha256_calculation_failed_status": "SHA256 calculation failed!",
        "no_iso_selected_sha256": "Please select an ISO file before calculating SHA256.",
        "iso_not_found_sha256": "ISO file not found for SHA256 calculation.",
        "sha256_calc_error": "Error calculating SHA256: {}",
        "iso_size_zero": "Selected ISO file has a size of 0 bytes. Please select a valid ISO.",
        "operation_cancelled": "Operation cancelled by user.",
        "open_iso_file": "Open ISO File",
        "iso_details_placeholder": "No ISO selected. Details will appear here.",
        "iso_details": "Selected: {} (Size: {})",
        "usb_details_placeholder": "No USB device selected. Details will appear here.",
        "insufficient_usb_space": "Insufficient space! ISO ({}) is larger than USB device ({}).",
        "insufficient_usb_space_critical": "Error: ISO ({}) is larger than the selected USB device ({}). Please choose a larger USB.",
        "sha256_match": "SHA256 checksums match!",
        "sha256_mismatch": "SHA256 checksums MISMATCH!",
        "sha256_mismatch_proceed_prompt": "Calculated SHA256 does NOT match the expected value.\n\n"
                                        "Proceeding may result in a corrupted USB. Do you still want to continue?",
        "calculating_sha256_status": "Calculating...",

        # New additions for SHA256 post-write and Formatting
        "format_usb_full_option": "Format USB device completely (Erase all data and partitions)",
        "format_usb_warning": "WARNING: Selecting this option will PERMANENTLY ERASE ALL DATA AND PARTITIONS on the selected USB device ({})!\n\nAre you absolutely sure you want to proceed?",
        "action_formatting": "Current Action: Formatting USB",
        "action_writing": "Current Action: Writing ISO",
        "action_verifying": "Current Action: Verifying SHA256",
        "action_idle": "Current Action: Idle",
        "formatting_usb": "Formatting {}...",
        "usb_formatted_success": "USB formatted successfully.",
        "format_failed": "USB formatting failed: {}",
        "format_failed_unexpected": "USB formatting failed unexpectedly: {}",
        "writing_progress": "Writing: {} / {} ({}%)",
        "verifying_sha256_post_write": "Verifying SHA256 of written USB...",
        "verifying_progress": "Verifying: {} / {} ({}%)",
        "write_and_verify_successful": "ISO written and verified successfully!",
        "write_successful_verify_failed": "ISO written, but SHA256 verification failed!\nOriginal: {}\nWritten: {}",
        "read_usb_error": "Error reading from USB device for verification: {}",
        "sha256_calc_device_error": "Error calculating SHA256 for device: {}",
        "command_not_found": "Required command '{}' not found. Please ensure it's installed and in your PATH.",
        "drop_invalid_file": "Please drop a valid .iso file.",
        "unmounting_partition": "Unmounting partition: {}",
        "unmount_error": "Error unmounting partition: {}",
        "unmount_unexpected_error": "Unexpected error during unmount: {}",

    },
    "ar": {
        "app_title_usb": "كاتب حلوان USB",
        "selected_iso_file": "ملف ISO المختار:",
        "browse": "استعراض...",
        "calculate_sha256": "حساب SHA256",
        "expected_sha256_label": "SHA256 المتوقع:",
        "expected_sha256_placeholder": "أدخل مجموع التحقق SHA256 المتوقع (اختياري)",
        "calculated_sha256_label": "SHA256 المحسوب:",
        "calculated_sha256_placeholder": "سيظهر هنا مجموع التحقق SHA256 المحسوب",
        "select_usb_device": "اختر جهاز USB:",
        "refresh": "تحديث",
        "write_to_usb": "كتابة إلى USB",
        "ready_to_start": "جاهز للبدء.",
        "warning": "تحذير",
        "error": "خطأ",
        "success": "نجاح",
        "failed": "فشل",
        "no_iso_selected": "الرجاء اختيار ملف ISO.",
        "no_usb_device_selected": "الرجاء اختيار جهاز USB.",
        "confirm_write_prompt": "هل أنت متأكد أنك تريد كتابة '{}' ({}) إلى '{}' ({})؟\n\n"
                                "جميع البيانات الموجودة على جهاز USB سيتم مسحها نهائياً!",
        "confirm_format_warning": "تحذير: تم اختيار تهيئة USB بالكامل! سيؤدي هذا إلى مسح جميع الأقسام والبيانات نهائياً من جهاز USB المحدد ({})!\n\nهل أنت متأكد تماماً من المتابعة؟",
        "confirm_write": "تأكيد الكتابة",
        "preparing_to_write": "جاري التحضير للكتابة إلى {}...",
        "write_successful": "تمت كتابة ISO بنجاح!",
        "write_failed": "فشل في كتابة ISO: {}",
        "dd_not_found": "أمر 'dd' غير موجود. يرجى التأكد من تثبيته ومساره.",
        "lsblk_not_found": "أمر 'lsblk' غير موجود. يرجى التأكد من تثبيته ومساره.",
        "lsblk_parse_error": "فشل في تحليل إخراج lsblk. يرجى التحقق من إعدادات النظام.",
        "unknown_error": "حدث خطأ غير معروف أثناء الكتابة.",
        "unexpected_error": "حدث خطأ غير متوقع: {}",
        "subprocess_error": "فشل أمر العملية الفرعية: '{}' برمز خروج {} وخطأ: {}",
        "starting_write": "بدء عملية الكتابة...",
        "no_usb_found": "لم يتم العثور على أجهزة USB.",
        "select_usb_device_option": "--- اختر جهاز USB ---",
        "no_usb_selected_option": "--- لم يتم اختيار USB ---",
        "cancel_running_operation": "توجد عملية كتابة قيد التقدم. هل تريد إلغاءها والخروج؟",
        "calculating_sha256_short": "جاري حساب SHA256...",
        "calculating_progress": "جاري الحساب SHA256: {}%",
        "sha256_calculated_success": "تم حساب SHA256 بنجاح.",
        "sha256_calculation_failed": "فشل حساب SHA256.",
        "sha256_calculation_failed_status": "فشل حساب SHA256!",
        "no_iso_selected_sha256": "الرجاء اختيار ملف ISO قبل حساب SHA256.",
        "iso_not_found_sha256": "ملف ISO غير موجود لحساب SHA256.",
        "sha256_calc_error": "خطأ في حساب SHA256: {}",
        "iso_size_zero": "حجم ملف ISO المختار هو 0 بايت. الرجاء اختيار ملف ISO صالح.",
        "operation_cancelled": "تم إلغاء العملية بواسطة المستخدم.",
        "open_iso_file": "فتح ملف ISO",
        "iso_details_placeholder": "لم يتم اختيار ملف ISO. ستظهر التفاصيل هنا.",
        "iso_details": "المختار: {} (الحجم: {})",
        "usb_details_placeholder": "لم يتم اختيار جهاز USB. ستظهر التفاصيل هنا.",
        "insufficient_usb_space": "مساحة غير كافية! حجم ISO ({}) أكبر من جهاز USB ({}).",
        "insufficient_usb_space_critical": "خطأ: حجم ISO ({}) أكبر من جهاز USB المختار ({}). الرجاء اختيار USB أكبر حجماً.",
        "sha256_match": "تطابق مجموعات التحقق SHA256!",
        "sha256_mismatch": "عدم تطابق مجموعات التحقق SHA256!",
        "sha256_mismatch_proceed_prompt": "مجموع التحقق SHA256 المحسوب لا يتطابق مع القيمة المتوقعة.\n\n"
                                        "قد يؤدي المتابعة إلى تلف USB. هل ما زلت تريد المتابعة؟",
        "calculating_sha256_status": "جاري الحساب...",

        # الإضافات الجديدة للتحقق بعد الكتابة والتهيئة
        "format_usb_full_option": "تهيئة جهاز USB بالكامل (مسح جميع البيانات والأقسام)",
        "format_usb_warning": "تحذير: اختيار هذا الخيار سيؤدي إلى مسح جميع البيانات والأقسام الموجودة على جهاز USB المحدد ({}) نهائياً!\n\nهل أنت متأكد تماماً من المتابعة؟",
        "action_formatting": "الإجراء الحالي: تهيئة USB",
        "action_writing": "الإجراء الحالي: كتابة ISO",
        "action_verifying": "الإجراء الحالي: التحقق من SHA256",
        "action_idle": "الإجراء الحالي: في وضع الخمول",
        "formatting_usb": "جاري تهيئة {}...",
        "usb_formatted_success": "تم تهيئة USB بنجاح.",
        "format_failed": "فشل تهيئة USB: {}",
        "format_failed_unexpected": "فشل تهيئة USB بشكل غير متوقع: {}",
        "writing_progress": "جاري الكتابة: {} / {} ({}%)",
        "verifying_sha256_post_write": "جاري التحقق من SHA256 لجهاز USB المكتوب...",
        "verifying_progress": "جاري التحقق: {} / {} ({}%)",
        "write_and_verify_successful": "تمت كتابة ISO والتحقق منه بنجاح!",
        "write_successful_verify_failed": "تمت كتابة ISO، ولكن فشل التحقق من SHA256!\nالأصلي: {}\nالمكتوب: {}",
        "read_usb_error": "خطأ في القراءة من جهاز USB للتحقق: {}",
        "sha256_calc_device_error": "خطأ في حساب SHA256 للجهاز: {}",
        "command_not_found": "الأمر المطلوب '{}' غير موجود. يرجى التأكد من تثبيته ومساره.",
        "drop_invalid_file": "الرجاء إسقاط ملف ISO صالح.",
        "unmounting_partition": "جاري إلغاء تحميل القسم: {}",
        "unmount_error": "خطأ في إلغاء تحميل القسم: {}",
        "unmount_unexpected_error": "خطأ غير متوقع أثناء إلغاء التحميل: {}",
    }
}
